webpackJsonp([1],{NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),i=n("NYxO"),r=(n("MU8w"),{name:"CsvUploader",props:{fileId:String,flabel:String},data:function(){return{checked:"",fileContents:[]}},methods:{fileUpload:function(){var e={fi:this.fileContents,fId:this.fileId};this.checked="checked",this.$store.commit("uploadSetter",e)},loadFile:function(e){var t=this;Papa.parse(e.target.files[0],{skipEmptyLines:!0,complete:function(e){t.fileContents=e.data,t.fileUpload()}})}}}),s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row p-2"},[n("div",{staticClass:"col-2"},["opFile"!==this.fileId?n("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],staticClass:"m-1",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(t){var n=e.checked,o=t.target,i=!!o.checked;if(Array.isArray(n)){var r=e._i(n,null);o.checked?r<0&&(e.checked=n.concat([null])):r>-1&&(e.checked=n.slice(0,r).concat(n.slice(r+1)))}else e.checked=i}}}):e._e(),e._v(" "+e._s(e.flabel))]),e._v(" "),n("div",{staticClass:"col-10"},[n("input",{attrs:{type:"file",id:e.fileId},on:{change:e.loadFile}})])])},staticRenderFns:[]},l=n("VU/8")(r,s,!1,null,null,null).exports,c={name:"ColumnChoice",computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e})({},Object(i.b)(["columnChoice"])),methods:{verifyColumn:function(e){isNaN(e.target.value)||e.target.value<1?(this.$store.commit("columnError"),this.$store.commit("columnSet",e.target.value)):(this.$store.commit("columnGood"),this.$store.commit("columnSet",e.target.value))}}},a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row p-2"},[t("div",{staticClass:"col-2"},[this._v("Column in reference file")]),this._v(" "),t("div",{staticClass:"col-10"},[t("input",{attrs:{type:"text",size:"3",id:"columnChoice"},domProps:{value:this.columnChoice},on:{change:this.verifyColumn}})])])},staticRenderFns:[]},u=n("VU/8")(c,a,!1,null,null,null).exports;var d={name:"Processing",computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e})({},Object(i.b)(["columnError","processingStatus","numOfDeletions"])),methods:{searchAndDestroy:function(e,t){if(void 0!==e)for(var n in t)for(var o in t[n])void 0!==t[n][o]?t[n][o].toUpperCase().replace(/\s/g,"")==e.toUpperCase().replace(/\s/g,"")&&(this.outputFileContents[n][o]="",this.$data.numOfDeletions++):console.log("data["+n+"]["+o+"] is undefined");else console.log(e+" is undefined, ignoring")},regexFilter:function(e,t){if(void 0!==e)for(var n in t)for(var o in t[n])if(void 0!==t[n][o]){var i=t[n][o].toUpperCase().replace(/\s/g,""),r=e.toUpperCase().replace(/\s/g,"");i.includes(r)&&(this.outputFileContents[n][o]="",this.$data.numOfDeletions++)}},processData:function(e){var t=this;1==this.columnError?console.log("Not running due to column error"):(this.processingStatus=1,this.outputFileContents=this.file1Contents,setTimeout(function(){for(var e in t.file2Contents)console.log("Running on row "+e),1==t.refFileSearch&&t.searchAndDestroy(t.file2Contents[e][t.columnChoice-1],t.file1Contents),1==t.regxFileSearch&&t.regxFileSearch(t.file2Contents[e][t.columnChoice-1],t.file1Contents);t.processingStatus=2},1500))},downloadCSV:function(e){var t,n,o;t="Output.csv",n=Papa.unparse(this.outputFileContents),(o=document.createElement("a")).setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(n)),o.setAttribute("download",t),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}}},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"row p-2"},[n("button",{staticClass:"m-1",on:{click:e.processData}},[e._v("Create Output")]),e._v(" "),n("button",{staticClass:"m-1",on:{click:e.downloadCSV}},[e._v("Download CSV")])]),e._v(" "),1==e.columnError?n("p",[e._v("Please enter a number in the column field and try again")]):e._e(),e._v(" "),1==e.processingStatus?n("p",[e._v("Processing data, please wait...")]):e._e(),e._v(" "),2==e.processingStatus?n("p",[e._v('Done processing data! Press "Download CSV" to download the modified CSV File.')]):e._e(),e._v(" "),0!=e.numOfDeletions?n("p",[e._v("Number of deletions: "+e._s(e.numOfDeletions))]):e._e()])},staticRenderFns:[]},f=n("VU/8")(d,p,!1,null,null,null).exports;console.log("v7 - progress on");var m={name:"app",components:{CsvUploader:l,ColumnChoice:u,Processing:f}},h={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("csv-uploader",{attrs:{fileId:"opFile",flabel:"Operating File"}}),this._v(" "),t("csv-uploader",{attrs:{fileId:"refFile",flabel:"Reference File"}}),this._v(" "),t("csv-uploader",{attrs:{fileId:"regxFile",flabel:"Regex File"}}),this._v(" "),t("column-choice"),this._v(" "),t("processing")],1)},staticRenderFns:[]};var v=n("VU/8")(m,h,!1,function(e){n("QW/t")},null,null).exports,g=new i.a.Store({state:{opFile:[],refFile:[],regxFile:[],outFile:[],columnChoice:1,numOfDeletions:0,processingStatus:0,columnError:0},mutations:{resetVars:function(e){e.numOfDeletions=0,e.outFile=[],e.processingStatus=0,e.columnError=0,e.columnChoice=1},uploadSetter:function(e,t){var n=t.fi;switch(t.fId){case"opFile":e.opFile=n;break;case"refFile":e.refFile=n;break;case"regxFile":e.regxFile=n}},setProcessingStatus:function(e,t){return e.processingStatus=t},columnError:function(e){return e.columnError=1},columnGood:function(e){return e.columnError=0},columnSet:function(e,t){return e.columnChoice=t}},strict:!0});o.a.config.productionTip=!1,o.a.use(i.a),new o.a({el:"#app",store:g,components:{App:v},template:"<App/>"})},"QW/t":function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e29afca36c513c7c534a.js.map