webpackJsonp([1],{C70t:function(e,t){},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("7+uW");console.log("v7 - progress on");var s={name:"app",data:function(){return{columnChoice:1,file1Contents:[],file2Contents:[],numOfDeletions:0,outputFileContents:[],processingStatus:0,columnError:0}},methods:{resetVars:function(){this.numOfDeletions=0,this.outputFileContents=[],this.processingStatus=0,this.columnError=0,this.columnChoice=1},verifyColumn:function(){isNaN(this.columnChoice)||this.columnChoice<1?this.columnError=1:this.columnError=0},searchAndDestroy:function(e,t){if(void 0!==e)for(var o in t)for(var n in t[o])void 0!==t[o][n]?t[o][n].toUpperCase().replace(/\s/g,"")==e.toUpperCase().replace(/\s/g,"")&&(this.outputFileContents[o][n]="",this.$data.numOfDeletions++):console.log("data["+o+"]["+n+"] is undefined");else console.log(e+" is undefined, ignoring")},loadFile1:function(e){var t=this;this.resetVars();var o=e.target.files[0];Papa.parse(o,{skipEmptyLines:!0,complete:function(e){console.log(e.data),t.file1Contents=e.data}})},loadFile2:function(e){var t=this;this.resetVars();var o=e.target.files[0];Papa.parse(o,{skipEmptyLines:!0,complete:function(e){console.log(e.data),t.file2Contents=e.data}})},processData:function(e){var t=this;1==this.columnError?console.log("Not running due to column error"):(this.processingStatus=1,this.outputFileContents=this.file1Contents,setTimeout(function(){for(var e in t.file2Contents)console.log("Running on row "+e),t.searchAndDestroy(t.file2Contents[e][t.columnChoice-1],t.file1Contents);t.processingStatus=2},1500))},downloadCSV:function(e){var t,o,n;t="Output.csv",o=Papa.unparse(this.outputFileContents),(n=document.createElement("a")).setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(o)),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("div",{staticClass:"row p-2"},[o("div",{staticClass:"col"},[e._v("File to be edited")]),e._v(" "),o("div",{staticClass:"col-10"},[o("input",{attrs:{type:"file",id:"file1"},on:{change:e.loadFile1}})])]),e._v(" "),o("div",{staticClass:"row p-2"},[o("div",{staticClass:"col"},[e._v("Reference file")]),e._v(" "),o("div",{staticClass:"col-10"},[o("input",{attrs:{type:"file",id:"file2"},on:{change:e.loadFile2}})])]),e._v(" "),o("div",{staticClass:"row p-2"},[o("div",{staticClass:"col-2"},[e._v("Column in reference file")]),e._v(" "),o("div",{staticClass:"col-10"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.columnChoice,expression:"columnChoice"}],attrs:{type:"text",size:"3",id:"columnChoice"},domProps:{value:e.columnChoice},on:{keyup:e.verifyColumn,input:function(t){t.target.composing||(e.columnChoice=t.target.value)}}})])]),e._v(" "),o("div",{staticClass:"row p-2"},[o("button",{staticClass:"m-1",on:{click:e.processData}},[e._v("Create Output")]),e._v(" "),o("button",{staticClass:"m-1",on:{click:e.downloadCSV}},[e._v("Download CSV")])]),e._v(" "),1==e.columnError?o("p",[e._v("Please enter a number in the column field and try again")]):e._e(),e._v(" "),1==e.processingStatus?o("p",[e._v("Processing data, please wait...")]):e._e(),e._v(" "),2==e.processingStatus?o("p",[e._v('Done processing data! Press "Download CSV" to download the modified CSV File.')]):e._e(),e._v(" "),0!=e.numOfDeletions?o("p",[e._v("Number of deletions: "+e._s(e.numOfDeletions))]):e._e()])},staticRenderFns:[]};var a=o("VU/8")(s,i,!1,function(e){o("C70t")},null,null).exports;n.a.config.productionTip=!1,new n.a({el:"#app",components:{App:a},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.1b2cf259d209301b0650.js.map